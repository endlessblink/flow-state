{
  "$schema": "../gen/schemas/desktop-schema.json",
  "identifier": "default",
  "description": "Default capabilities for PomoFlow desktop app",
  "windows": ["main"],
  "permissions": [
    "core:default",
    "shell:allow-spawn",
    "shell:allow-execute",
    "shell:allow-kill",
    "notification:default",
    {
      "identifier": "http:default",
      "allow": [
        { "url": "http://127.0.0.1:**" },
        { "url": "http://localhost:**" },
        { "url": "https://**" }
      ]
    },
    {
      "identifier": "shell:allow-execute",
      "allow": [
        {
          "name": "docker",
          "cmd": "docker",
          "args": true
        },
        {
          "name": "supabase",
          "cmd": "supabase",
          "args": true
        },
        {
          "name": "npx-supabase",
          "cmd": "npx",
          "args": ["supabase", { "validator": ".*" }]
        },
        {
          "name": "open-macos",
          "cmd": "open",
          "args": true
        },
        {
          "name": "cmd-windows",
          "cmd": "cmd",
          "args": true
        },
        {
          "name": "systemctl-linux",
          "cmd": "systemctl",
          "args": true
        }
      ]
    },
    {
      "identifier": "shell:allow-spawn",
      "allow": [
        {
          "name": "docker-spawn",
          "cmd": "docker",
          "args": true
        },
        {
          "name": "supabase-spawn",
          "cmd": "supabase",
          "args": true
        }
      ]
    },
    "updater:default"
  ]
}
