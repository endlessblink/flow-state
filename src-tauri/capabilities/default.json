{
  "$schema": "../gen/schemas/desktop-schema.json",
  "identifier": "default",
  "description": "Default capabilities for FlowState desktop app",
  "windows": ["main"],
  "permissions": [
    "core:default",
    "shell:allow-spawn",
    "shell:allow-execute",
    "shell:allow-kill",
    {
      "identifier": "http:allow-fetch",
      "allow": [
        { "url": "http://127.0.0.1:**" },
        { "url": "http://localhost:**" },
        { "url": "https://**" }
      ]
    },
    {
      "identifier": "http:allow-fetch-cancel",
      "allow": [
        { "url": "http://127.0.0.1:**" },
        { "url": "http://localhost:**" },
        { "url": "https://**" }
      ]
    },
    {
      "identifier": "http:allow-fetch-cancel-body",
      "allow": [
        { "url": "http://127.0.0.1:**" },
        { "url": "http://localhost:**" },
        { "url": "https://**" }
      ]
    },
    {
      "identifier": "http:allow-fetch-read-body",
      "allow": [
        { "url": "http://127.0.0.1:**" },
        { "url": "http://localhost:**" },
        { "url": "https://**" }
      ]
    },
    {
      "identifier": "http:allow-fetch-send",
      "allow": [
        { "url": "http://127.0.0.1:**" },
        { "url": "http://localhost:**" },
        { "url": "https://**" }
      ]
    },
    {
      "identifier": "shell:allow-execute",
      "allow": [
        {
          "name": "docker",
          "cmd": "docker",
          "args": true
        },
        {
          "name": "supabase",
          "cmd": "supabase",
          "args": true
        },
        {
          "name": "npx-supabase",
          "cmd": "npx",
          "args": ["supabase", { "validator": ".*" }]
        },
        {
          "name": "open-macos",
          "cmd": "open",
          "args": true
        },
        {
          "name": "cmd-windows",
          "cmd": "cmd",
          "args": true
        },
        {
          "name": "systemctl-linux",
          "cmd": "systemctl",
          "args": true
        },
        {
          "name": "curl",
          "cmd": "curl",
          "args": true
        },
        {
          "name": "notify-send",
          "cmd": "notify-send",
          "args": true
        }
      ]
    },
    {
      "identifier": "shell:allow-spawn",
      "allow": [
        {
          "name": "docker-spawn",
          "cmd": "docker",
          "args": true
        },
        {
          "name": "supabase-spawn",
          "cmd": "supabase",
          "args": true
        }
      ]
    },
    "shell:allow-open",
    "oauth:default",
    "updater:default",
    "updater:allow-check",
    "updater:allow-download-and-install",
    "process:default",
    "dialog:default",
    "dialog:allow-save",
    "dialog:allow-open",
    "fs:default",
    "store:default",
    {
      "identifier": "fs:allow-write-text-file",
      "allow": [
        { "path": "$DOWNLOAD/**" },
        { "path": "$HOME/**" }
      ]
    },
    {
      "identifier": "fs:allow-mkdir",
      "allow": [
        { "path": "$HOME/**" }
      ]
    },
    {
      "identifier": "fs:allow-exists",
      "allow": [
        { "path": "$HOME/**" }
      ]
    }
  ]
}
