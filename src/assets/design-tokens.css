/*
 * POMO-FLOW UNIFIED DESIGN TOKEN SYSTEM
 * Single source of truth for all design decisions
 * Tokens cascade from base → semantic → component levels
 */

:root {
  /* Text Rendering Optimizations */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  font-feature-settings: "kern" 1, "liga" 1;

  /* ===== TIER 1: BASE PALETTE (HSL for flexibility) ===== */

  /* Slate Scale - Professional Navy Dark Mode */
  --slate-950: 226, 44%, 8%;
  /* #0f172a / hsl(226, 44%, 8%) */
  --slate-900: 222, 47%, 11%;
  /* #0f172a base */
  --slate-800: 217, 33%, 17%;
  /* #1e293b / surface-primary */
  --slate-700: 215, 25%, 27%;
  /* #334155 */
  --slate-600: 215, 19%, 35%;
  /* #475569 / surface-elevated */
  --slate-400: 215, 20%, 65%;
  /* #94a3b8 / text-muted */
  --slate-200: 214, 32%, 91%;
  /* #e2e8f0 / text-tertiary */
  --slate-100: 210, 40%, 96%;
  /* #f1f5f9 / text-primary */
  --slate-50: 210, 40%, 98%;
  /* #f8fafc */

  /* Tailwind RGB Tokens (Authentic Slate) */
  --color-slate-50: 248, 250, 252;
  --color-slate-100: 241, 245, 249;
  --color-slate-200: 226, 232, 240;
  --color-slate-300: 203, 213, 225;
  --color-slate-400: 148, 163, 184;
  --color-slate-500: 100, 116, 139;
  --color-slate-600: 71, 85, 105;
  --color-slate-700: 51, 65, 85;
  --color-slate-800: 30, 41, 59;
  --color-slate-900: 15, 23, 42;

  /* Brand Colors - Authentic Teal (matches themes.ts #4ECDC4) */
  --teal-500: 174, 62%, 58%;

  /* Core Color Palette (HSL values for semantic tokens) */
  --red-500: 0, 84%, 60%;      /* #ef4444 - danger, errors, current time indicator */
  --green-500: 142, 71%, 45%;  /* #22c55e - success, completed */
  --blue-500: 217, 91%, 60%;   /* #3b82f6 - info, links */
  --color-primary-50: 235, 252, 251;
  --color-primary-100: 206, 247, 244;
  --color-primary-200: 161, 240, 235;
  --color-primary-300: 116, 233, 226;
  --color-primary-400: 78, 220, 213;
  --color-primary-500: 78, 205, 196;
  /* Base #4ECDC4 */
  --color-primary-600: 64, 180, 172;
  --color-primary-700: 50, 140, 134;
  --color-primary-800: 36, 100, 96;
  --color-primary-900: 22, 60, 58;
  /* Pomodoro/Success Colors */
  --color-pomodoro-500: 239, 68, 68;
  --color-success-500: 74, 222, 128;
  --color-warning-500: 251, 191, 36;

  /* App Background Gradient - Official Board View Palette */
  --app-background-gradient: linear-gradient(135deg,
      hsl(220, 13%, 9%) 0%,
      hsl(240, 21%, 15%) 25%,
      hsl(250, 24%, 12%) 50%,
      hsl(260, 20%, 14%) 75%,
      hsl(220, 13%, 11%) 100%);

  /* ===== TIER 2: SEMANTIC TOKENS (Theme-aware) ===== */

  /* Surface Hierarchy - Purple-tinted to match app gradient */
  --surface-primary: hsl(250, 29%, 16%);    /* rgb(35, 32, 52) - task cards, nav */
  --surface-secondary: hsl(250, 30%, 12%);  /* rgb(28, 25, 45) - secondary elements */
  --surface-tertiary: hsl(250, 25%, 20%);   /* rgb(45, 40, 65) - hover states */
  --surface-elevated: hsl(250, 22%, 24%);   /* rgb(52, 47, 75) - elevated elements */
  --surface-hover: rgba(45, 40, 70, 0.15);
  --surface-active: rgba(45, 40, 70, 0.25);

  /* Overlay - Modal backgrounds */
  --overlay-bg: rgba(0, 0, 0, 0.6);

  /* Glass Surfaces - PURPLE-TINTED glass morphism (matches app gradient) */
  --glass-bg-subtle: rgba(45, 40, 70, 0.02);
  --glass-bg-weak: rgba(45, 40, 70, 0.04);
  --glass-bg-light: rgba(45, 40, 70, 0.08);
  --glass-bg-tint: rgba(45, 40, 70, 0.10);
  --glass-bg-medium: rgba(45, 40, 70, 0.15);
  --glass-bg-soft: rgba(45, 40, 70, 0.18);
  --glass-bg-heavy: rgba(45, 40, 70, 0.25);
  --glass-border: rgba(255, 255, 255, 0.10);
  --glass-border-hover: rgba(255, 255, 255, 0.15);
  --glass-glow: rgba(78, 205, 196, 0.08);

  /* Canvas Node Backgrounds - TASK-079 zoom visibility (purple-tinted) */
  /* Adjust these to control canvas element brightness */
  --canvas-task-bg: rgba(35, 32, 52, 0.95);
  /* Task cards on canvas - purple-tinted */
  --canvas-group-bg: rgba(38, 35, 55, 0.92);
  /* Groups/sections on canvas - purple-tinted */
  --canvas-task-border: rgba(255, 255, 255, 0.25);
  /* Task border */
  --canvas-group-border: rgba(255, 255, 255, 0.30);
  /* Group border */

  /* Text Hierarchy - Authentic Web Mappings */
  --text-primary: hsl(var(--slate-100));
  --text-secondary: hsl(var(--slate-200));
  --text-tertiary: hsl(var(--slate-400));
  --text-muted: hsl(215, 16%, 60%);
  --text-subtle: hsl(215, 16%, 45%);
  --text-disabled: hsl(var(--slate-600));

  /* Border Colors - Edge definitions */
  --border-subtle: rgba(255, 255, 255, 0.08);
  --border-medium: rgba(255, 255, 255, 0.12);
  --border-strong: rgba(255, 255, 255, 0.18);
  --border-interactive: rgba(255, 255, 255, 0.24);
  --border-primary: rgba(255, 255, 255, 0.10);
  --border-secondary: rgba(255, 255, 255, 0.14);
  --border-hover: rgba(255, 255, 255, 0.20);

  /* Brand Colors - Semantic usage */
  --brand-primary: hsl(var(--teal-500));
  --brand-hover: hsl(var(--teal-400));
  --brand-active: hsl(174, 62%, 53%);

  /* Legacy color alias for compatibility */
  --color-primary: var(--brand-primary);
  --color-primary-hover: var(--brand-hover);

  /* ===== SPACING SCALE ===== */
  /* Based on 0.25rem (4px) base unit */
  --space-0: 0;
  --space-px: 1px;
  --space-0_5: 0.125rem;
  /* 2px */
  --space-1: 0.25rem;
  /* 4px */
  --space-1_5: 0.375rem;
  /* 6px */
  --space-2: 0.5rem;
  /* 8px */
  --space-2_5: 0.625rem;
  /* 10px */
  --space-3: 0.75rem;
  /* 12px */
  --space-3_5: 0.875rem;
  /* 14px */
  --space-4: 1rem;
  /* 16px */
  --space-5: 1.25rem;
  /* 20px */
  --space-6: 1.5rem;
  /* 24px */
  --space-7: 1.75rem;
  /* 28px */
  --space-8: 2rem;
  /* 32px */
  --space-9: 2.25rem;
  /* 36px */
  --space-10: 2.5rem;
  /* 40px */
  --space-12: 3rem;
  /* 48px */
  --space-14: 3.5rem;
  /* 56px */
  --space-16: 4rem;
  /* 64px */
  --space-20: 5rem;
  /* 80px */
  --space-24: 6rem;
  /* 96px */
  --space-32: 8rem;
  /* 128px */

  /* ===== SEMANTIC SPACING ALIASES ===== */
  /* Use these for better clarity in your code */

  /* Gaps between items */
  --gap-xs: var(--space-1);
  /* 4px - Tight gaps (badges, icons) */
  --gap-sm: var(--space-2);
  /* 8px - Small gaps (flex items, lists) */
  --gap-md: var(--space-3);
  /* 8px - Medium gaps */
  --gap-lg: var(--space-4);
  /* 16px - Large gaps (sections) */

  /* Padding for components */
  --padding-xs: var(--space-1);
  /* 4px - Minimal padding */
  --padding-sm: var(--space-2);
  /* 8px - Compact components */
  --padding-md: var(--space-4);
  /* 16px - Standard components */
  --padding-lg: var(--space-6);
  /* 24px - Spacious components */
  --padding-xl: var(--space-10);
  /* 40px - Large containers */
  --padding-2xl: var(--space-12);
  /* 48px - Main layout containers */

  /* Margins between sections */
  --margin-xs: var(--space-1);
  /* 4px - Tight margins */
  --margin-sm: var(--space-2);
  /* 8px - Small margins */
  --margin-md: var(--space-4);
  /* 16px - Standard margins */
  --margin-lg: var(--space-6);
  /* 24px - Large margins */

  /* Layout-specific spacing */
  --sidebar-padding: var(--space-6);
  /* 24px - Sidebar section padding */
  --content-padding: var(--space-12);
  /* 48px - Main content area padding */
  --card-padding: var(--space-4);
  /* 16px - Card/panel padding */

  /* Sidebar width sizing */
  --sidebar-width-normal: 280px;
  /* 280px - Normal sidebar width */
  --sidebar-width-collapsed: 0px;
  /* 0px - Collapsed sidebar width */

  /* Sidebar styling tokens - Iteration 4 Parity */
  --sidebar-bg: linear-gradient(135deg, rgba(255, 255, 255, 0.03) 0%, rgba(255, 255, 255, 0.01) 100%);
  --sidebar-backdrop: blur(40px) saturate(200%);
  --sidebar-shadow: var(--shadow-2xl), inset -1px 0 0 var(--glass-bg-heavy);

  /* Kanban-specific sizing */
  --kanban-column-min-height: 12.5rem;
  /* 200px - Minimum column height */
  --kanban-column-width: 22.5rem;
  /* 360px - Standard column width */
  --kanban-column-width-lg: 21.25rem;
  /* 340px - Large screen column width */
  --kanban-column-width-md: 20rem;
  /* 320px - Medium screen column width */
  --kanban-column-width-sm: 18.75rem;
  /* 300px - Small screen column width */
  --kanban-gap: 1rem;
  /* 16px - Gap between columns */
  --kanban-scrollbar-height: 0.5rem;
  /* 8px - Scrollbar height */
  --kanban-drag-area-min-height: 7.5rem;
  /* 120px - Minimum drag area height */
  --kanban-breakpoint-xl: 87.5rem;
  /* 1400px - Extra large breakpoint */
  --kanban-breakpoint-lg: 75rem;
  /* 1200px - Large breakpoint */
  --kanban-breakpoint-md: 62.5rem;
  /* 1000px - Medium breakpoint */

  /* Kanban background colors - Glassy updates */
  --kanban-bg: transparent;
  /* Base black - master token */
  --kanban-swimlane-bg: transparent;
  /* Swimlane container background */
  --kanban-column-bg: var(--glass-bg-medium);
  /* Column card background */
  --kanban-column-bg-hover: var(--glass-bg-heavy);
  /* Column hover state */
  --kanban-header-bg: var(--surface-hover);
  /* Column headers */
  --kanban-drag-area-bg: transparent;
  /* Drag area between cards */
  --kanban-scroll-container-bg: transparent;
  /* Scroll container background */
  --kanban-badge-bg: var(--glass-bg-heavy);
  /* Count badges */
  --kanban-card-glass-bg: rgba(35, 32, 55, 0.7);
  /* Purple-tinted semi-transparent card background */

  /* ===== TASKCARD STATUS ICON COLORS ===== */
  /* Planned status (blue) */
  --status-planned-bg: rgba(59, 130, 246, 0.25);
  --status-planned-border: rgba(59, 130, 246, 0.6);
  --status-planned-text: #60a5fa;

  /* In Progress status (amber) */
  --status-in-progress-bg: rgba(245, 158, 11, 0.25);
  --status-in-progress-border: rgba(245, 158, 11, 0.6);
  --status-in-progress-text: #fbbf24;

  /* Done status (green) */
  --status-done-bg: rgba(34, 197, 94, 0.25);
  --status-done-border: rgba(34, 197, 94, 0.6);
  --status-done-text: #4ade80;

  /* Backlog status (gray) */
  --status-backlog-bg: rgba(148, 163, 184, 0.15);
  --status-backlog-border: rgba(148, 163, 184, 0.4);
  --status-backlog-text: #94a3b8;

  /* On Hold status (orange) */
  --status-on-hold-bg: rgba(249, 115, 22, 0.25);
  --status-on-hold-border: rgba(249, 115, 22, 0.6);
  --status-on-hold-text: #fb923c;

  /* ===== TASKCARD PRIORITY BADGE COLORS ===== */
  /* High priority (red) */
  --priority-high-bg: rgba(239, 68, 68, 0.2);
  --priority-high-border: rgba(239, 68, 68, 0.5);
  --priority-high-text: #f87171;

  /* Medium priority (orange) */
  --priority-medium-bg: rgba(249, 115, 22, 0.2);
  --priority-medium-border: rgba(249, 115, 22, 0.5);
  --priority-medium-text: #fb923c;

  /* Low priority (blue) */
  --priority-low-bg: rgba(59, 130, 246, 0.2);
  --priority-low-border: rgba(59, 130, 246, 0.5);
  --priority-low-text: #60a5fa;

  /* ===== TASKCARD DUE DATE BADGE ===== */
  --due-date-bg: rgba(148, 163, 184, 0.15);
  --due-date-border: rgba(148, 163, 184, 0.3);
  --due-date-text: #94a3b8;

  /* TaskCard-specific sizing */
  --task-card-min-height: 2.5rem;
  /* 40px - Compact card height */
  --task-card-min-width: 0;
  /* Fully responsive - no minimum width constraint */
  --task-card-max-width: 100%;
  /* Fill available width - let parent control sizing */
  --task-card-responsive-width: auto;
  /* Responsive width that adapts to content */
  --task-card-icon-size: 1.25rem;
  /* 20px - Status icon size */
  --task-card-checkbox-size: 1rem;
  /* 16px - Checkbox size */
  --task-card-font-size-xs: 0.625rem;
  /* 10px - Extra small font */
  --task-card-padding-xs: 0.125rem;
  /* 2px - Extra small padding */
  --task-card-badge-max-width: 6rem;
  /* 96px - Maximum badge width before truncation */
  --task-card-title-max-lines: 2;
  /* Maximum title lines before truncation */
  --task-card-content-spacing: 0.5rem;
  /* 8px - Spacing for content areas */
  --task-card-selection-offset: -0.125rem;
  /* -2px - Selection border offset */
  --task-card-selection-border: 0.125rem;
  /* 2px - Selection border width */
  --task-card-border-width: 0.0625rem;
  /* 1px - Standard border width */
  --task-card-focus-width: 0.125rem;
  /* 2px - Focus ring width */

  /* Navigation header spacing */
  --nav-tabs-spacing-below: 1.0rem;
  /* 24px - Space below navigation tabs (Board/Calendar/etc) */
  --nav-tabs-padding-bottom: 0.5rem;
  /* 8px - Space between tab text and border line */

  /* Sidebar quick-add section spacing */
  --sidebar-quickadd-padding-y: var(--space-2);
  /* 16px - Vertical padding for "Add a task" section */
  --sidebar-quickadd-padding-x: var(--space-6);
  /* 24px - Horizontal padding for "Add a task" section */

  /* ===== TYPOGRAPHY SCALE ===== */
  /* Font sizes */
  --text-xs: 0.75rem;
  /* 12px */
  --text-sm: 0.875rem;
  /* 14px */
  --text-base: 1rem;
  /* 16px */
  --text-lg: 1.125rem;
  /* 18px */
  --text-xl: 1.25rem;
  /* 20px */
  --text-2xl: 1.5rem;
  /* 24px */
  --text-3xl: 1.875rem;
  /* 30px */
  --text-4xl: 2.25rem;
  /* 36px */

  /* Font weights */
  --font-light: 300;
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;

  /* Line heights */
  --leading-none: 1;
  --leading-tight: 1.25;
  --leading-snug: 1.375;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;
  --leading-loose: 2;

  /* ===== BORDER RADIUS SCALE ===== */
  --radius-none: 0;
  --radius-xs: 2px;
  /* 2px */
  --radius-sm: 0.375rem;
  /* 6px */
  --radius-6: 0.5rem;
  /* 8px */
  --radius-md: 0.5rem;
  /* 8px */
  --radius-lg: 1rem;
  /* 16px */
  --radius-xl: 1.25rem;
  /* 20px (more rounded!) */
  --radius-2xl: 1.5rem;
  /* 24px */
  --radius-full: 9999px;

  /* ===== TRANSITIONS & ANIMATIONS ===== */
  --duration-instant: 100ms;
  --duration-fast: 150ms;
  --duration-normal: 200ms;
  --duration-slow: 300ms;
  --duration-slower: 500ms;

  --ease-linear: linear;
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --spring-smooth: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --spring-bouncy: cubic-bezier(0.68, -0.55, 0.265, 1.55);

  /* ===== Z-INDEX LAYERS ===== */
  --z-base: 0;
  --z-dropdown: 100;
  --z-sticky: 200;
  --z-overlay: 300;
  --z-modal: 400;
  --z-popover: 500;
  --z-toast: 600;
  --z-tooltip: 700;

  /* ===== TIER 3: FUNCTIONAL COLORS (Context-specific) ===== */

  /* Pomodoro States */
  --color-work: #10b981;
  /* Green - Active work, productivity */
  --color-break: #f59e0b;
  /* Orange - Breaks, attention */
  --color-focus: #8b5cf6;
  /* Purple - Deep work, meditation */
  --color-navigation: #3b82f6;
  /* Blue - Links, navigation */
  --color-neutral: #6b7280;
  /* Gray - Secondary elements */

  /* Interactive States - THE ONE unified system: OUTLINED + GLASS */
  --state-active-border: rgba(78, 205, 196, 0.60);
  /* Teal border when active */
  --state-active-bg: rgba(78, 205, 196, 0.15);
  /* Glass background tint */
  --state-active-glass: blur(16px) saturate(180%);
  /* Glass blur effect */
  --state-active-text: var(--text-primary);
  /* Text color for active states */
  --state-hover-border: rgba(78, 205, 196, 0.40);
  /* Teal border on hover */
  --state-hover-bg: rgba(78, 205, 196, 0.10);
  /* Subtle glass tint */
  --state-hover-shadow: 0 8px 16px rgba(78, 205, 196, 0.25);
  /* Dramatic shadow */
  --state-hover-glow: 0 0 20px rgba(78, 205, 196, 0.20);
  /* Glow effect */

  /* Filter Selection Colors - Distinct colors for sidebar filters */
  --filter-today-bg: rgba(56, 189, 248, 0.15);
  /* Azure/Sky Blue */
  --filter-today-border: rgba(56, 189, 248, 0.50);
  --filter-today-glow: 0 0 16px rgba(56, 189, 248, 0.25);

  --filter-week-bg: rgba(14, 165, 233, 0.15);
  /* Azure/Sky Blue (darker) */
  --filter-week-border: rgba(14, 165, 233, 0.50);
  --filter-week-glow: 0 0 16px rgba(14, 165, 233, 0.25);

  --filter-tasks-bg: rgba(59, 130, 246, 0.15);
  /* Blue */
  --filter-tasks-border: rgba(59, 130, 246, 0.50);
  --filter-tasks-glow: 0 0 16px rgba(59, 130, 246, 0.25);

  --filter-uncategorized-bg: rgba(245, 158, 11, 0.12);
  /* Orange */
  --filter-uncategorized-border: rgba(245, 158, 11, 0.45);
  --filter-uncategorized-glow: 0 0 16px rgba(245, 158, 11, 0.25);

  /* Selection State - Calendar events and interactive elements */
  --state-selected-bg: rgba(59, 130, 246, 0.20);
  /* Blue tinted background for selection */
  --state-selected-border: rgba(59, 130, 246, 0.60);
  /* Bright blue border for selection */
  --state-selected-shadow: 0 8px 16px rgba(59, 130, 246, 0.25);
  /* Shadow with blue tint */
  --state-selected-glow: 0 0 20px rgba(59, 130, 246, 0.30);
  /* Blue glow for selection emphasis */

  /* Priority System */
  --color-priority-high: #ef4444;
  /* Red - Urgent tasks */
  --color-priority-medium: #f59e0b;
  /* Orange - Default priority */
  --color-priority-low: #3b82f6;
  /* Blue - Low urgency */

  /* Priority backgrounds for calendar events */
  --priority-high-bg: rgba(239, 68, 68, 0.3);
  --priority-medium-bg: rgba(245, 158, 11, 0.3);
  --priority-low-bg: rgba(59, 130, 246, 0.3);

  /* Priority indicator glows */
  --priority-high-glow: 0 4px 8px rgba(239, 68, 68, 0.3), 0 0 12px rgba(239, 68, 68, 0.2);
  --priority-medium-glow: 0 4px 8px rgba(245, 158, 11, 0.3), 0 0 12px rgba(245, 158, 11, 0.2);
  --priority-low-glow: 0 4px 8px rgba(59, 130, 246, 0.3), 0 0 12px rgba(59, 130, 246, 0.2);

  /* Alpha variants for priority colors */
  --color-warning-alpha-10: rgba(245, 158, 11, 0.1);
  --color-error-alpha-10: rgba(239, 68, 68, 0.1);

  /* Additional priority background variants */
  --color-priority-medium-bg-subtle: rgba(245, 158, 11, 0.05);
  --color-priority-medium-border-medium: rgba(245, 158, 11, 0.3);

  /* Calendar-Specific Tokens */
  /* Purple - Calendar UI elements (filters, badges) */
  --calendar-hover-bg: rgba(99, 102, 241, 0.02);
  --calendar-hover-bg-medium: rgba(99, 102, 241, 0.05);
  --calendar-creating-bg: rgba(99, 102, 241, 0.20);
  --calendar-creating-bg-alt: rgba(139, 92, 246, 0.15);
  --calendar-creating-border: rgba(99, 102, 241, 0.4);
  --calendar-ghost-bg-start: rgba(99, 102, 241, 0.25);
  --calendar-ghost-bg-end: rgba(79, 70, 229, 0.20);
  --calendar-ghost-border: rgba(99, 102, 241, 0.6);
  --calendar-ghost-shadow: 0 8px 16px rgba(99, 102, 241, 0.2), 0 0 20px rgba(99, 102, 241, 0.15);
  --calendar-today-bg-start: rgba(99, 102, 241, 0.12);
  --calendar-today-bg-end: rgba(79, 70, 229, 0.08);
  --calendar-today-border: rgba(99, 102, 241, 0.2);
  --calendar-today-glow: 0 0 16px rgba(99, 102, 241, 0.15);
  --calendar-today-badge-start: rgba(99, 102, 241, 0.9);
  --calendar-today-badge-end: rgba(79, 70, 229, 0.85);
  --calendar-today-badge-shadow: 0 4px 8px rgba(99, 102, 241, 0.3), 0 0 12px rgba(99, 102, 241, 0.2);

  /* Green - Current time indicator */
  --calendar-current-time-bg-start: rgba(16, 185, 129, 0.12);
  --calendar-current-time-bg-end: rgba(16, 185, 129, 0.06);
  --calendar-current-time-border: rgba(16, 185, 129, 0.3);
  --calendar-current-time-glow: 0 0 12px rgba(16, 185, 129, 0.15);

  /* Amber/Yellow - Timer active states */
  --timer-active-bg-start: rgba(251, 191, 36, 0.25);
  --timer-active-bg-end: rgba(217, 119, 6, 0.20);
  --timer-break-bg-start: rgba(251, 191, 36, 0.15);
  --timer-break-bg-end: rgba(217, 119, 6, 0.10);
  --timer-active-border: var(--color-work);
  --timer-border-medium: rgba(251, 191, 36, 0.3);
  --timer-glow-subtle: 0 0 24px rgba(251, 191, 36, 0.15);
  --timer-active-glow: 0 0 20px rgba(251, 191, 36, 0.4);
  --timer-active-glow-strong: 0 0 30px rgba(251, 191, 36, 0.6);
  --timer-shadow-glow: 0 0 12px rgba(99, 102, 241, 0.6);
  --timer-active-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  --timer-active-shadow-hover: 0 12px 24px rgba(0, 0, 0, 0.25);
  --timer-shadow-complex: 0 12px 24px rgba(0, 0, 0, 0.24), 0 0 24px rgba(251, 191, 36, 0.15), inset 0 1px 0 var(--border-medium);
  --timer-active-month-bg-start: rgba(251, 191, 36, 0.30);
  --timer-active-month-bg-end: rgba(217, 119, 6, 0.25);
  --timer-active-month-glow: 0 0 12px rgba(251, 191, 36, 0.5);

  /* Timer Stroke-Glow Design Tokens */
  /* Work Timer - Teal brand color (#4ECDC4) */
  --timer-work-stroke: hsl(174, 62%, 58%);
  --timer-work-stroke-glow:
    0 0 6px rgba(78, 205, 196, 0.5),
    0 0 12px rgba(78, 205, 196, 0.35),
    0 0 24px rgba(78, 205, 196, 0.2),
    0 0 40px rgba(78, 205, 196, 0.1);
  --timer-work-stroke-glow-intense:
    0 0 4px rgba(78, 205, 196, 0.6),
    0 0 8px rgba(78, 205, 196, 0.5),
    0 0 16px rgba(78, 205, 196, 0.4),
    0 0 32px rgba(78, 205, 196, 0.25),
    0 0 48px rgba(78, 205, 196, 0.15);

  /* Break Timer - Orange/Amber color (#F59E0B) */
  --timer-break-stroke: hsl(38, 92%, 50%);
  --timer-break-stroke-glow:
    0 0 6px rgba(245, 158, 11, 0.5),
    0 0 12px rgba(245, 158, 11, 0.35),
    0 0 24px rgba(245, 158, 11, 0.2),
    0 0 40px rgba(245, 158, 11, 0.1);
  --timer-break-stroke-glow-intense:
    0 0 4px rgba(245, 158, 11, 0.6),
    0 0 8px rgba(245, 158, 11, 0.5),
    0 0 16px rgba(245, 158, 11, 0.4),
    0 0 32px rgba(245, 158, 11, 0.25),
    0 0 48px rgba(245, 158, 11, 0.15);

  /* Green success states */
  --success-bg-start: rgba(16, 185, 129, 0.15);
  --success-bg-end: rgba(5, 150, 105, 0.10);
  --success-bg-subtle: rgba(16, 185, 129, 0.15);
  --success-bg-light: rgba(16, 185, 129, 0.10);
  --success-border: rgba(16, 185, 129, 0.3);
  --success-border-medium: rgba(16, 185, 129, 0.5);
  --success-border-active: rgba(16, 185, 129, 0.8);
  --success-glow: 0 0 24px rgba(16, 185, 129, 0.15);
  --success-shadow: rgba(16, 185, 129, 0.3);
  --success-shadow-complex: 0 12px 24px rgba(0, 0, 0, 0.24), 0 0 24px rgba(16, 185, 129, 0.15), inset 0 1px 0 var(--border-medium);

  /* Green gradients for priority badges */
  --success-gradient-start: rgba(16, 185, 129, 0.9);
  --success-gradient-end: rgba(5, 150, 105, 0.85);

  /* Week view specific */
  --week-hover-bg: rgba(16, 185, 129, 0.02);

  /* Additional glass opacity variations - purple-tinted */
  --glass-bg-subtle: rgba(45, 40, 70, 0.02);
  --glass-bg-weak: rgba(45, 40, 70, 0.04);
  --glass-bg-tint: rgba(45, 40, 70, 0.10);
  --glass-bg-soft: rgba(45, 40, 70, 0.18);
  --glass-border-faint: rgba(255, 255, 255, 0.03);
  --glass-border-light: rgba(255, 255, 255, 0.06);
  --glass-border-medium: rgba(255, 255, 255, 0.16);
  --glass-border-strong: rgba(255, 255, 255, 0.28);
  --glass-border-soft: rgba(255, 255, 255, 0.12);
  --glass-handle: rgba(255, 255, 255, 0.4);

  /* Danger/Delete states (red) */
  --danger-bg-subtle: rgba(239, 68, 68, 0.1);
  --danger-bg-medium: rgba(239, 68, 68, 0.2);
  --danger-border-subtle: rgba(239, 68, 68, 0.2);
  --danger-border-medium: rgba(239, 68, 68, 0.3);
  --danger-border-strong: rgba(239, 68, 68, 0.4);
  --danger-border-hover: rgba(239, 68, 68, 0.5);
  --danger-border-active: rgba(239, 68, 68, 0.8);

  /* Danger gradients for buttons */
  --danger-gradient-start: rgba(239, 68, 68, 0.9);
  --danger-gradient-end: rgba(220, 38, 38, 0.85);
  --danger-gradient-hover-start: rgba(249, 78, 78, 0.95);
  --danger-gradient-hover-end: rgba(230, 48, 48, 0.9);
  --danger-bg-light: rgba(239, 68, 68, 0.10);
  --danger-shadow-strong: rgba(239, 68, 68, 0.4);

  /* Purple interactive states (for buttons/UI) */
  --purple-bg-subtle: rgba(139, 92, 246, 0.08);
  --purple-bg-start: rgba(99, 102, 241, 0.16);
  --purple-bg-end: rgba(79, 70, 229, 0.10);
  --purple-border-subtle: rgba(139, 92, 246, 0.2);
  --purple-border-light: rgba(99, 102, 241, 0.25);
  --purple-border-medium: rgba(99, 102, 241, 0.3);
  --purple-border-strong: rgba(99, 102, 241, 0.45);
  --purple-border-active: rgba(99, 102, 241, 0.6);
  --purple-glow-subtle: 0 0 0 2px rgba(99, 102, 241, 0.10);
  --purple-glow-medium: 0 0 0 2px rgba(99, 102, 241, 0.12);
  --purple-glow-focus: 0 0 0 3px rgba(59, 130, 246, 0.2);
  --purple-shadow-subtle: 0 4px 12px rgba(99, 102, 241, 0.2);
  --purple-shadow-medium: 0 4px 12px rgba(99, 102, 241, 0.25);
  --purple-shadow-strong: rgba(99, 102, 241, 0.4);
  --purple-shadow-deep: 0 8px 20px rgba(99, 102, 241, 0.35);

  /* Purple gradients for buttons */
  --purple-gradient-start: rgba(99, 102, 241, 0.9);
  --purple-gradient-end: rgba(79, 70, 229, 0.85);
  --purple-gradient-hover-start: rgba(109, 112, 251, 0.95);
  --purple-gradient-hover-end: rgba(89, 80, 239, 0.9);

  /* Blue/info states */
  --blue-bg-subtle: rgba(59, 130, 246, 0.15);
  --blue-bg-light: rgba(59, 130, 246, 0.1);
  --blue-bg-medium: rgba(59, 130, 246, 0.2);
  --blue-border-medium: rgba(59, 130, 246, 0.5);
  --blue-border-active: rgba(59, 130, 246, 0.8);
  --blue-shadow: rgba(59, 130, 246, 0.3);
  --blue-glow-subtle: 0 4px 6px -1px rgba(16, 185, 129, 0.2);

  /* Blue gradients for priority badges */
  --blue-gradient-start: rgba(59, 130, 246, 0.9);
  --blue-gradient-end: rgba(37, 99, 235, 0.85);

  --orange-glow-subtle: 0 4px 6px -1px rgba(245, 158, 11, 0.2);
  --orange-bg-subtle: rgba(217, 119, 6, 0.15);
  --orange-bg-medium: rgba(245, 158, 11, 0.20);
  --orange-bg-light: rgba(245, 158, 11, 0.12);

  /* Overlay backgrounds */
  --overlay-dark: rgba(30, 41, 59, 0.9);

  /* Status Indicators */
  --color-success: hsl(var(--green-500));
  --color-warning: var(--color-priority-medium);
  /* Use medium priority orange instead of yellow */
  --color-danger: hsl(var(--red-500));
  --color-info: hsl(var(--blue-500));

  /* ===== PROJECT INDICATOR SYSTEM ===== */
  /* Container sizes for consistent emoji/colored dot rendering */
  --project-indicator-size-xs: 16px;
  /* Ultra-compact - minimal UI */
  --project-indicator-size-sm: 20px;
  /* Standard - TaskCard, TaskRow, TaskTable */
  --project-indicator-size-md: 24px;
  /* Large - TaskNode, canvas */
  --project-indicator-size-lg: 32px;
  /* Prominent - featured displays */

  /* Emoji sizing within containers */
  --project-emoji-size-xs: 12px;
  /* Emoji within 16px container */
  --project-emoji-size-sm: 14px;
  /* Emoji within 20px container - standard */
  --project-emoji-size-md: 18px;
  /* Emoji within 24px container */
  --project-emoji-size-lg: 24px;
  /* Emoji within 32px container */

  /* CSS circle dot sizes (for colored dots fallback) */
  --project-circle-size-xs: 4px;
  /* Small dot for ultra-compact */
  --project-circle-size-sm: 6px;
  /* Standard dot for regular components */
  --project-circle-size-md: 7px;
  /* Larger dot for canvas visibility */
  --project-circle-size-lg: 10px;
  /* Prominent dot for featured displays */

  /* Glow intensity variations - Softened for less distraction */
  --project-indicator-glow-subtle: 0 0 4px currentColor, 0 0 8px currentColor;
  --project-indicator-glow-medium: 0 0 6px currentColor, 0 0 12px currentColor;
  --project-indicator-glow-strong: 0 0 8px currentColor, 0 0 16px currentColor;
  --project-indicator-opacity: 0.6;
  /* More subtle default state */

  /* Enhanced glass morphism effects */
  --project-indicator-border: rgba(255, 255, 255, 0.3);
  --project-indicator-shadow-inset: inset 0 1px 2px rgba(255, 255, 255, 0.4);
  --project-indicator-backdrop: blur(2px) saturate(150%);

  /* Emoji-specific styling */
  --project-emoji-font-stack: "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", "EmojiSymbols", system-ui, sans-serif;
  --project-emoji-rendering: optimizeLegibility;
  --project-emoji-smoothing: antialiased;
  --project-emoji-sharpness: -webkit-optimize-contrast, crisp-edges;

  /* SVG-specific effects */
  --project-svg-filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.15));
  --project-svg-transition: all var(--duration-fast) var(--spring-smooth);

  /* Container spacing and padding */
  --project-indicator-padding: 0;
  --project-indicator-margin: 0;
  --project-indicator-gap: var(--space-2);

  /* Brand colors for project indicators */
  --brand-bg-subtle: rgba(78, 205, 196, 0.1);
  --brand-border-subtle: rgba(78, 205, 196, 0.2);
  --brand-primary-glow: 0 0 16px rgba(78, 205, 196, 0.4);

  /* Context Menu Tokens */
  --bg-hover: var(--surface-hover);
  --danger-text: var(--color-danger);
  --blue-text: var(--color-info);

  /* ===== UI OVERLAY COMPONENT TOKENS ===== */
  /* Dropdowns, Modals, Context Menus - Dark Glass Morphism */
  /* MANDATORY: Use CustomSelect.vue, ContextMenu.vue, BaseModal.vue */

  /* Overlay backgrounds - Purple-tinted glass morphism */
  --overlay-component-bg: rgba(28, 25, 45, 0.92);
  --overlay-component-bg-lighter: rgba(0, 0, 0, 0.4);
  --overlay-component-backdrop: blur(20px);
  --overlay-component-border: 1px solid rgba(255, 255, 255, 0.15);
  --overlay-component-border-color: rgba(255, 255, 255, 0.15);
  --overlay-component-shadow: 0 16px 48px rgba(0, 0, 0, 0.5), 0 8px 24px rgba(0, 0, 0, 0.3);

  /* Inbox Panel Customization - User Controlled */
  --inbox-panel-opacity: 0.15;
  --inbox-panel-bg: rgba(28, 25, 45, var(--inbox-panel-opacity));
  --glass-panel-bg: rgba(28, 25, 45, 0.6);
  /* Semi-transparent headers/panels */
  --dropdown-bg: rgba(28, 25, 45, 0.9);
  /* Opaque-ish dropdowns */

  /* Dropdown-specific tokens */
  --dropdown-trigger-height: 44px;
  --dropdown-trigger-height-compact: 32px;
  --dropdown-item-hover-bg: rgba(255, 255, 255, 0.03);
  --dropdown-item-hover-border: rgba(255, 255, 255, 0.1);
  --dropdown-selected-border: rgba(78, 205, 196, 0.5);
  --dropdown-selected-color: rgba(78, 205, 196, 1);

  /* Context menu separator */
  --context-menu-separator: rgba(255, 255, 255, 0.15);

  /* ===== TYPOGRAPHY SYSTEM ===== */

  /* Font Families */
  --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  --font-primary: 'Open Sans', var(--font-sans);
  --font-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Courier New', monospace;

  /* Type Scale (1.25 ratio - Major Third) */
  --text-xs: 0.75rem;
  /* 12px - Metadata, labels */
  --text-sm: 0.875rem;
  /* 14px - UI text, buttons */
  --text-base: 1rem;
  /* 16px - Body text */
  --text-lg: 1.125rem;
  /* 18px - Section headers */
  --text-xl: 1.25rem;
  /* 20px - Page titles */
  --text-2xl: 1.5rem;
  /* 24px - Display text */
  --text-3xl: 1.875rem;
  /* 30px - Hero text */

  /* Font Weights */
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;

  /* Line Heights */
  --leading-none: 1;
  --leading-tight: 1.25;
  --leading-normal: 1.5;
  --leading-relaxed: 1.75;

  /* ===== SPACING SCALE (8px grid system) ===== */

  --space-0: 0;
  --space-1: 0.25rem;
  /* 4px - Micro spacing */
  --space-2: 0.5rem;
  /* 8px - Tight spacing */
  --space-3: 0.75rem;
  /* 12px - Small gaps */
  --space-4: 1rem;
  /* 16px - Standard gaps */
  --space-5: 1.25rem;
  /* 20px - Medium gaps */
  --space-6: 1.5rem;
  /* 24px - Large gaps */
  --space-8: 2rem;
  /* 32px - Section spacing */
  --space-10: 2.5rem;
  /* 40px - XL spacing */
  --space-12: 3rem;
  /* 48px - XXL spacing */
  --space-16: 4rem;
  /* 64px - Section breaks */

  /* ===== SIZING SCALE ===== */

  /* Icon Sizes */
  --icon-xs: 10px;
  --icon-sm: 12px;
  --icon-md: 14px;
  --icon-lg: 16px;
  --icon-xl: 20px;
  --icon-2xl: 24px;

  /* Button Heights */
  --btn-sm: 1.75rem;
  /* 28px - Compact */
  --btn-md: 2rem;
  /* 32px - Standard */
  --btn-lg: 2.25rem;
  /* 36px - Large */

  /* ===== BORDER RADIUS ===== */

  --radius-sm: 0.375rem;
  /* 6px - Tight corners */
  --radius-md: 0.5rem;
  /* 8px - Standard */
  --radius-lg: 1rem;
  /* 16px - Large */
  --radius-xl: 1.25rem;
  /* 20px - XL (more rounded!) */
  --radius-2xl: 1.5rem;
  /* 24px - XXL */
  --radius-full: 9999px;
  /* Pill shape */

  /* ===== ELEVATION SYSTEM ===== */

  /* Blur Effects */
  --blur-xs: 8px;
  --blur-sm: 10px;
  --blur-regular: 12px;
  --blur-md: 16px;
  --blur-lg: 24px;
  --blur-xl: 32px;

  /* REFINED Shadows - Subtle depth matching screenshots */
  --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.08);
  --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.10);
  --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.12);
  --shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.15);
  --shadow-xl: 0 12px 24px rgba(0, 0, 0, 0.18);
  --shadow-2xl: 0 16px 32px rgba(0, 0, 0, 0.20);

  /* Dark theme shadows - slightly deeper */
  --shadow-dark-sm: 0 2px 4px rgba(0, 0, 0, 0.25);
  --shadow-dark-md: 0 4px 8px rgba(0, 0, 0, 0.30);
  --shadow-dark-lg: 0 8px 16px rgba(0, 0, 0, 0.35);
  --shadow-dark-xl: 0 12px 24px rgba(0, 0, 0, 0.40);

  /* Additional shadow variations */
  --shadow-subtle: 0 1px 3px 0 rgba(0, 0, 0, 0.3);
  --shadow-medium: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  --shadow-strong: 0 4px 6px -1px rgba(0, 0, 0, 0.4);

  /* OPTIONAL Glass Effect - use sparingly */
  --shadow-glass: 0 4px 12px rgba(0, 0, 0, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);

  --shadow-glow: 0 0 12px var(--glass-glow);

  /* ===== ANIMATION SYSTEM ===== */

  /* Spring Easing Curves (cubic-bezier) */
  --spring-smooth: cubic-bezier(0.4, 0, 0.2, 1);
  --spring-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  --spring-swift: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --spring-gentle: cubic-bezier(0.16, 1, 0.3, 1);

  /* Duration Scale */
  --duration-instant: 50ms;
  --duration-fast: 150ms;
  --duration-normal: 200ms;
  --duration-slow: 300ms;
  --duration-slower: 500ms;

  /* Legacy transition aliases (for compatibility) */
  --transition-fast: var(--duration-fast) var(--spring-smooth);
  --transition-normal: var(--duration-normal) var(--spring-smooth);
  --transition-slow: var(--duration-slow) var(--spring-smooth);

  /* ===== Z-INDEX SCALE ===== */

  --z-base: 0;
  --z-dropdown: 1000;
  --z-sticky: 1100;
  --z-overlay: 1200;
  --z-modal: 1300;
  --z-popover: 1400;
  --z-tooltip: 1500;
}

/* ===== TAURI / WEBKITGTK TOKEN OVERRIDES ===== */
/* More opaque backgrounds since backdrop-filter blur won't work on WebKitGTK */

.tauri-app,
.pwa-app {
  /* PURPLE-TINTED glass morphism - matching app gradient palette */
  --glass-bg-light: rgba(45, 40, 70, 0.08);
  --glass-bg-medium: rgba(45, 40, 70, 0.15);
  --glass-bg-heavy: rgba(45, 40, 70, 0.25);
  --glass-bg-solid: rgba(28, 25, 45, 0.95);
  --glass-bg: rgba(35, 32, 55, 0.35);

  /* Shared glass variants - purple-tinted */
  --glass-bg-subtle: rgba(45, 40, 70, 0.02);
  --glass-bg-weak: rgba(45, 40, 70, 0.04);
  --glass-bg-tint: rgba(45, 40, 70, 0.10);
  --glass-bg-soft: rgba(45, 40, 70, 0.18);

  /* State active glass - Match web exactly */
  --state-active-glass: blur(16px) saturate(180%);

  /* Canvas backgrounds - purple-tinted */
  --canvas-task-bg: rgba(35, 32, 52, 0.95);
  --canvas-group-bg: rgba(38, 35, 55, 0.92);

  /* Overlay components - Purple-tinted glass (matching web) */
  --overlay-component-bg: rgba(28, 25, 45, 0.92);
  --overlay-component-backdrop: blur(20px);

  /* Dropdown/panel backgrounds - Purple-tinted glass */
  --dropdown-bg: rgba(28, 25, 45, 0.9);
  --glass-panel-bg: rgba(28, 25, 45, 0.6);
  --inbox-panel-bg: rgba(28, 25, 45, 0.15);

  /* Kanban backgrounds - purple-tinted */
  --kanban-column-bg: rgba(45, 40, 70, 0.15);
  --kanban-column-bg-hover: rgba(45, 40, 70, 0.25);
  --kanban-card-glass-bg: rgba(35, 32, 55, 0.7);

  /* Explicit Sidebar overrides to ensure perfect parity */
  --sidebar-bg: linear-gradient(135deg, rgba(255, 255, 255, 0.03) 0%, rgba(255, 255, 255, 0.01) 100%);
  --sidebar-backdrop: blur(40px) saturate(200%);
}

/* ===== LIGHT THEME OVERRIDES ===== */
/* Supports both data-theme attribute and .dark-theme class for backwards compatibility */

:root:not(.dark-theme):not([data-theme="dark"]),
[data-theme="light"] {
  /* Surface adjustments for light mode */
  --surface-primary: hsl(var(--gray-50));
  --surface-secondary: #ffffff;
  --surface-tertiary: hsl(var(--gray-100));
  --surface-elevated: hsl(var(--gray-200));
  --surface-hover: rgba(0, 0, 0, 0.02);
  --surface-active: rgba(0, 0, 0, 0.05);

  /* Overlay - Modal backgrounds */
  --overlay-bg: rgba(0, 0, 0, 0.4);

  /* Glass surfaces - inverted for light */
  --glass-bg-light: rgba(255, 255, 255, 0.7);
  --glass-bg-medium: rgba(255, 255, 255, 0.8);
  --glass-bg-heavy: rgba(255, 255, 255, 0.9);
  --glass-border: rgba(0, 0, 0, 0.1);
  --glass-border-hover: rgba(0, 0, 0, 0.15);

  /* Text adjustments */
  --text-primary: hsl(220, 13%, 9%);
  --text-secondary: hsl(220, 13%, 18%);
  --text-tertiary: hsl(220, 13%, 28%);
  --text-muted: hsl(220, 9%, 46%);
  --text-subtle: hsl(220, 9%, 60%);
  --text-disabled: hsl(220, 9%, 70%);

  /* Borders - lighter in light mode */
  --border-subtle: rgba(0, 0, 0, 0.08);
  --border-medium: rgba(0, 0, 0, 0.12);
  --border-strong: rgba(0, 0, 0, 0.18);
  --border-interactive: rgba(0, 0, 0, 0.24);
  --border-primary: rgba(0, 0, 0, 0.10);
  --border-secondary: rgba(0, 0, 0, 0.14);
  --border-hover: rgba(0, 0, 0, 0.20);

  /* Light mode shadows */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.15);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.2);
}

/* ===== COMPONENT-LEVEL TOKENS ===== */

:root {
  /* Button Tokens */
  --btn-bg: transparent;
  --btn-bg-hover: var(--surface-hover);
  --btn-bg-active: var(--surface-active);
  --btn-border: var(--border-secondary);
  --btn-border-hover: var(--border-hover);
  --btn-text: var(--text-muted);
  --btn-text-hover: var(--text-secondary);

  /* Input Tokens */
  --input-bg: var(--surface-tertiary);
  --input-border: var(--border-secondary);
  --input-border-focus: var(--brand-primary);
  --input-text: var(--text-primary);
  --input-placeholder: var(--text-subtle);

  /* Card Tokens */
  --card-bg: var(--surface-secondary);
  --card-border: var(--border-subtle);
  --card-border-hover: var(--border-medium);
  --card-shadow: var(--shadow-sm);
  --card-shadow-hover: var(--shadow-md);
}

/* ===== UTILITY CLASSES (Applied via tokens) ===== */

.glass-card {
  background: var(--glass-bg-light);
  backdrop-filter: blur(var(--blur-md));
  -webkit-backdrop-filter: blur(var(--blur-md));
  border: 1px solid var(--glass-border);
  box-shadow: var(--shadow-glass);
}

.glass-card-hover {
  transition: all var(--duration-normal) var(--spring-smooth);
}

.glass-card-hover:hover {
  background: var(--glass-bg-medium);
  border-color: var(--glass-border-hover);
  transform: translateY(-2px);
  box-shadow: var(--shadow-xl);
}

.elevated-surface {
  background: var(--surface-elevated);
  border: 1px solid var(--border-subtle);
  box-shadow: var(--shadow-md);
}

.hover-lift {
  transition: transform var(--duration-normal) var(--spring-smooth),
    box-shadow var(--duration-normal) var(--spring-smooth);
}

.hover-lift:hover {
  transform: translateY(-2px) scale(1.005);
  box-shadow: var(--shadow-lg);
}

.press-scale {
  transition: transform var(--duration-fast) var(--spring-bounce);
}

.press-scale:active {
  transform: scale(0.98);
}

/* ===== LONG-PRESS VISUAL FEEDBACK SYSTEM ===== */
/* Mobile PWA long-press to edit task feature */
/* Uses transform and opacity only for GPU-accelerated performance */

/* Base long-press item - applies to task items that support long-press */
.long-press-item {
  /* Enable GPU acceleration */
  will-change: transform, box-shadow;
  transform: translateZ(0);
  /* Smooth transitions for state changes */
  transition:
    transform var(--duration-normal) var(--spring-smooth),
    box-shadow var(--duration-normal) var(--spring-smooth);
}

/* Idle state - normal appearance */
.long-press-idle {
  transform: scale(1);
  box-shadow: var(--shadow-sm);
}

/* Pressing state - progressive scale-up during press */
/* Note: Actual scale values are controlled by JS for smooth 0-1 progress */
.long-press-pressing {
  /* Subtle scale increase (1.02-1.03x) - JS applies exact value */
  /* Elevated shadow effect - JS applies progressive shadow */
  /* Remove transition for smooth JS-controlled animation */
  transition: none;
}

/* Activated state - long press completed */
.long-press-activated {
  transform: scale(1.03);
  box-shadow:
    0 12px 24px 4px rgba(0, 0, 0, 0.25),
    0 0 0 2px var(--brand-primary);
  /* Bounce back effect on activation */
  transition:
    transform var(--duration-fast) var(--spring-bounce),
    box-shadow var(--duration-fast) var(--spring-smooth);
}

/* Long-press progress indicator overlay (optional visual) */
.long-press-progress-ring {
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  pointer-events: none;
  opacity: 0;
  border: 2px solid transparent;
  border-top-color: var(--brand-primary);
  transition: opacity var(--duration-fast) var(--ease-out);
}

.long-press-pressing .long-press-progress-ring {
  opacity: 1;
  animation: long-press-spin var(--duration-slower) linear forwards;
}

/* Keyframe for progress ring rotation */
@keyframes long-press-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Glow effect during long press */
.long-press-glow {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  opacity: 0;
  background: radial-gradient(
    ellipse at center,
    var(--brand-primary) 0%,
    transparent 70%
  );
  filter: blur(20px);
  transition: opacity var(--duration-normal) var(--ease-out);
}

.long-press-pressing .long-press-glow {
  opacity: 0.15;
}

.long-press-activated .long-press-glow {
  opacity: 0.25;
}

/* Mobile task item with long-press support */
.mobile-task-item.long-press-item {
  position: relative;
  overflow: visible;
}

/* Haptic feedback visual indicator (pulse on activation) */
@keyframes long-press-pulse {
  0% {
    transform: scale(1.03);
    box-shadow: 0 12px 24px 4px rgba(0, 0, 0, 0.25), 0 0 0 2px var(--brand-primary);
  }
  50% {
    transform: scale(1.05);
    box-shadow: 0 16px 32px 6px rgba(0, 0, 0, 0.3), 0 0 0 3px var(--brand-primary);
  }
  100% {
    transform: scale(1.03);
    box-shadow: 0 12px 24px 4px rgba(0, 0, 0, 0.25), 0 0 0 2px var(--brand-primary);
  }
}

.long-press-activated.long-press-pulse-once {
  animation: long-press-pulse var(--duration-slow) var(--spring-bounce) 1;
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .long-press-item,
  .long-press-idle,
  .long-press-pressing,
  .long-press-activated {
    transition: none !important;
    animation: none !important;
  }

  .long-press-pressing {
    /* Still show some feedback without motion */
    outline: 2px solid var(--brand-primary);
    outline-offset: 2px;
  }

  .long-press-progress-ring {
    animation: none !important;
    border-color: var(--brand-primary);
    opacity: 1;
  }
}

/* ===== UTILITY CLASSES (from legacy design-system.css) ===== */

/* Icon Color Classes */
.icon {
  flex-shrink: 0;
}

.icon-work {
  color: var(--color-work);
}

.icon-break {
  color: var(--color-break);
}

.icon-focus {
  color: var(--color-focus);
}

.icon-navigation {
  color: var(--color-navigation);
}

.icon-neutral {
  color: var(--color-neutral);
}

.icon-danger {
  color: var(--color-danger);
}

/* ===== ACCESSIBILITY & COMPATIBILITY ===== */

/* Backdrop blur fallback for unsupported browsers */
@supports not (backdrop-filter: blur(1px)) {
  .glass-card {
    background: var(--surface-secondary);
    border: 1px solid var(--border-medium);
  }
}

/* Respect user motion preferences */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  .glass-card {
    backdrop-filter: none;
  }
}

/* ===== HEBREW/RTL TEXT SUPPORT ===== */

/* Hebrew text alignment classes */
.hebrew-text {
  unicode-bidi: plaintext;
}

.text-align-right {
  text-align: right !important;
}

.direction-rtl {
  direction: rtl !important;
}

.hebrew-input {
  text-align: right;
  direction: rtl;
  unicode-bidi: plaintext;
}

/* RTL/LTR document direction support */
[dir="rtl"] {
  text-align: right;
}

[dir="rtl"] .text-align-start {
  text-align: right;
}

[dir="rtl"] .text-align-end {
  text-align: left;
}

[dir="ltr"] .text-align-start {
  text-align: left;
}

[dir="ltr"] .text-align-end {
  text-align: right;
}

/* ===== GLOBAL EMOJI STYLING ===== */

/* Ensure consistent colorful emoji rendering across all components */
.project-emoji,
.project-emoji-icon,
[class*="project-emoji"],
[class*="-emoji"] {
  /* Noto Color Emoji for consistent colorful emoji rendering */
  font-family: "Noto Color Emoji", "Apple Color Emoji", "Segoe UI Emoji", "EmojiSymbols", system-ui, sans-serif;
  /* Enhanced emoji rendering */
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  /* Ensure proper emoji display */
  font-style: normal;
  font-weight: normal;
  -webkit-text-stroke-width: 0;
  -webkit-text-stroke-color: transparent;
}

/* ===== DESIGN SYSTEM DOCUMENTATION (in comments) ===== */

/*
USAGE GUIDELINES:

TIER 1 (Base Palette):
- HSL values for easy color manipulation
- Never use directly in components
- Example: --blue-500: 217, 91%, 60%

TIER 2 (Semantic Tokens):
- Theme-aware surface, text, border colors
- Use these in most components
- Example: background: var(--surface-primary);

TIER 3 (Functional Tokens):
- Context-specific colors (work, break, priority)
- Use for specialized UI elements
- Example: color: var(--color-work);

COMPONENT TOKENS:
- Pre-configured for specific components
- Ensures consistency across similar elements
- Example: background: var(--btn-bg);

TOKEN HIERARCHY:
Base → Semantic → Component
(Each level references the one above it)

WHEN TO USE WHAT:
- Surfaces: var(--surface-*)
- Text: var(--text-*)
- Borders: var(--border-*)
- Actions: var(--color-work/break/focus)
- Status: var(--color-success/warning/danger)
- Spacing: var(--space-*)
- Typography: var(--text-*) + var(--font-*)
- Gamification: var(--neon-*), var(--xp-*), var(--tier-*)
*/

/* ===== GAMIFICATION "CYBERFLOW" TOKENS (FEATURE-1118) ===== */
:root {
  /* Neon Colors (RGB for glow effects) */
  --neon-cyan: 0, 255, 255;
  --neon-magenta: 255, 0, 255;
  --neon-lime: 57, 255, 20;
  --neon-orange: 255, 107, 53;
  --neon-purple: 138, 43, 226;

  /* Neon Glow Effects */
  --neon-glow-cyan: 0 0 8px rgba(var(--neon-cyan), 0.6),
                    0 0 16px rgba(var(--neon-cyan), 0.3),
                    0 0 32px rgba(var(--neon-cyan), 0.15);
  --neon-glow-magenta: 0 0 8px rgba(var(--neon-magenta), 0.6),
                        0 0 16px rgba(var(--neon-magenta), 0.3),
                        0 0 32px rgba(var(--neon-magenta), 0.15);
  --neon-glow-lime: 0 0 8px rgba(var(--neon-lime), 0.6),
                    0 0 16px rgba(var(--neon-lime), 0.3);

  /* XP Bar Styling */
  --xp-bar-height: 8px;
  --xp-bar-border-radius: 4px;
  --xp-bar-bg: rgba(var(--color-slate-800), 0.8);
  --xp-bar-gradient: linear-gradient(90deg,
    rgba(var(--neon-cyan), 0.9),
    rgba(var(--neon-magenta), 0.9));
  --xp-bar-glow: 0 0 12px rgba(var(--neon-cyan), 0.5);

  /* Achievement Tier Colors (RGB) */
  --tier-bronze: 205, 127, 50;
  --tier-silver: 192, 192, 192;
  --tier-gold: 255, 215, 0;
  --tier-platinum: 229, 228, 226;

  /* Tier Glow Effects */
  --tier-glow-bronze: 0 0 8px rgba(var(--tier-bronze), 0.6);
  --tier-glow-silver: 0 0 8px rgba(var(--tier-silver), 0.6);
  --tier-glow-gold: 0 0 12px rgba(var(--tier-gold), 0.7),
                    0 0 24px rgba(var(--tier-gold), 0.3);
  --tier-glow-platinum: 0 0 12px rgba(var(--tier-platinum), 0.8),
                        0 0 24px rgba(var(--tier-platinum), 0.4);

  /* Gamification Component Tokens */
  --gamification-panel-bg: rgba(var(--color-slate-900), 0.95);
  --gamification-panel-border: rgba(var(--neon-cyan), 0.3);
  --gamification-card-bg: rgba(var(--color-slate-800), 0.8);
  --gamification-text-primary: rgb(var(--color-slate-100));
  --gamification-text-secondary: rgb(var(--color-slate-400));

  /* Level Badge */
  --level-badge-size: 48px;
  --level-badge-font-size: 1.25rem;
  --level-badge-bg: linear-gradient(135deg,
    rgba(var(--neon-cyan), 0.2),
    rgba(var(--neon-magenta), 0.2));
  --level-badge-border: 2px solid rgba(var(--neon-cyan), 0.5);
  --level-badge-glow: var(--neon-glow-cyan);

  /* Streak Counter */
  --streak-flame-color: rgb(255, 107, 53);
  --streak-text-color: rgb(var(--color-slate-100));
  --streak-glow: 0 0 8px rgba(255, 107, 53, 0.5);

  /* Toast Notifications */
  --toast-xp-bg: rgba(var(--color-slate-900), 0.95);
  --toast-xp-border: rgba(var(--neon-cyan), 0.5);
  --toast-achievement-border: rgba(var(--tier-gold), 0.5);
  --toast-animation-duration: 0.3s;
}

/* Gamification Animations */
@keyframes xpPopIn {
  0% { transform: scale(0) translateY(20px); opacity: 0; }
  60% { transform: scale(1.2) translateY(-5px); }
  100% { transform: scale(1) translateY(0); opacity: 1; }
}

@keyframes xpGlow {
  0%, 100% { box-shadow: var(--neon-glow-cyan); }
  50% { box-shadow: var(--neon-glow-magenta); }
}

@keyframes levelUpPulse {
  0%, 100% { transform: scale(1); box-shadow: var(--level-badge-glow); }
  50% { transform: scale(1.1); box-shadow: var(--neon-glow-magenta); }
}

@keyframes achievementUnlock {
  0% { transform: scale(0) rotate(-180deg); opacity: 0; }
  60% { transform: scale(1.2) rotate(10deg); }
  80% { transform: scale(0.95) rotate(-5deg); }
  100% { transform: scale(1) rotate(0); opacity: 1; }
}

@keyframes streakFlame {
  0%, 100% { transform: translateY(0) scale(1); }
  50% { transform: translateY(-2px) scale(1.05); }
}

@keyframes xpBarFill {
  from { width: var(--xp-bar-start, 0%); }
  to { width: var(--xp-bar-end, 100%); }
}

@keyframes rainbowGlow {
  0% { box-shadow: 0 0 10px rgba(255, 0, 0, 0.6); }
  16% { box-shadow: 0 0 10px rgba(255, 165, 0, 0.6); }
  33% { box-shadow: 0 0 10px rgba(255, 255, 0, 0.6); }
  50% { box-shadow: 0 0 10px rgba(0, 255, 0, 0.6); }
  66% { box-shadow: 0 0 10px rgba(0, 0, 255, 0.6); }
  83% { box-shadow: 0 0 10px rgba(75, 0, 130, 0.6); }
  100% { box-shadow: 0 0 10px rgba(238, 130, 238, 0.6); }
}

/* Cache bust: 1761553951 */