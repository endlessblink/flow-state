/* Global Vue Flow Overrides to prevent rasterization */

/* 1. The Container/Viewport */
.vue-flow__transformation-pane,
.vue-flow__viewport {
    /* Force 3D rendering context to prevent flattening into a single bitmap */
    transform-style: preserve-3d !important;
    /* Disable bitmap caching optimization */
    will-change: auto !important;
    backface-visibility: visible !important;
}

/* 2. The Nodes */
.vue-flow__node {
    /* CRITICAL: Disable "will-change: transform" which Vue Flow adds inline.
     This prevents the browser from pre-rasterizing the node as a texture. */
    will-change: auto !important;

    /* NOTE: Do NOT set transform here - Vue Flow uses transform for positioning!
     * The translateZ(0) trick breaks node dragging. */
    backface-visibility: hidden !important;

    /* Rendering quality hints */
    text-rendering: optimizeLegibility !important;
    -webkit-font-smoothing: subpixel-antialiased !important;
    -moz-osx-font-smoothing: auto !important;
}

/* 3. BUG-1116: Disable ALL transitions during drag to prevent lag
 * Vue Flow adds .dragging class to nodes being dragged.
 * CSS transitions on transform cause perceived lag as the node
 * "animates" to cursor position instead of snapping instantly. */
.vue-flow__node.dragging,
.vue-flow__node.dragging *,
.vue-flow__node.selected.dragging,
.vue-flow__node.selected.dragging * {
    transition: none !important;
    /* Also disable any animations */
    animation: none !important;
}